<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no" />
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.min.css"
    />
    <title>Noise Maker</title>
  </head>
  <body>
    <button
      type="button"
      class="d-md-none btn btn-dark btn-lg position-fixed top-0 shadow z-1"
      id="btn-toggle-controls"
      aria-label="toggle controls"
    >
      <i class="bi bi-chevron-double-left open-icon"></i>
      <i class="bi bi-chevron-double-right closed-icon"></i>
    </button>

    <main class="d-flex h-100">
      <aside class="flex-shrink-0 overflow-auto bg-body h-100 shadow z-1">
        <div id="svg-controls" class="d-flex flex-column">
          <div class="card m-3 mb-0">
            <h5 class="card-header">
              Noise
              <i
                class="bi bi-question-circle-fill tip"
                data-bs-toggle="tooltip"
                data-bs-title="Semi-random Perlin noise based on just a few settings"
              ></i>
            </h5>
            <div class="card-body">
              <div class="form-control-wrapper">
                <label class="form-label" for="ctrl-base-frequency-x"
                  >Base Frequency
                  <span class="baseFrequencyToggleDisplay" data-display="inline">X</span>
                  <i
                    class="bi bi-question-circle-fill tip"
                    data-bs-toggle="tooltip"
                    data-bs-title="The size/scale of the grain in the noise"
                  ></i>
                </label>
                <div class="row">
                  <div class="col-9">
                    <input
                      type="range"
                      class="form-range"
                      id="ctrl-base-frequency-x"
                      min="0.001"
                      max="1"
                      value="0.03"
                      step="0.001"
                      data-target="#noise-filter feTurbulence"
                      data-target-attr="baseFrequency"
                      data-target-value-formatter="{{#ctrl-base-frequency-x}} {{#ctrl-base-frequency-y}}"
                      data-force-reload-svg="true"
                    />
                  </div>
                  <output class="col-3"></output>
                </div>
              </div>

              <div class="form-control-wrapper baseFrequencyToggleDisplay">
                <label class="form-label" for="ctrl-base-frequency-y"
                  >Base Frequency Y
                  <i
                    class="bi bi-question-circle-fill tip"
                    data-bs-toggle="tooltip"
                    data-bs-title="The size/scale of the grain in the noise on the Y-axis"
                  ></i>
                </label>
                <div class="row">
                  <div class="col-9">
                    <input
                      type="range"
                      class="form-range"
                      id="ctrl-base-frequency-y"
                      min="0.001"
                      max="1"
                      value="0.03"
                      step="0.001"
                      disabled
                      data-target="#noise-filter feTurbulence"
                      data-target-attr="baseFrequency"
                      data-target-value-formatter="{{#ctrl-base-frequency-x}} {{#ctrl-base-frequency-y}}"
                      data-force-reload-svg="true"
                    />
                  </div>
                  <output class="col-3"></output>
                </div>
              </div>

              <div class="form-control-wrapper">
                <div class="form-check mb-0">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    id="ctrl-separate-frequencies"
                    data-toggle-visibility=".baseFrequencyToggleDisplay"
                    data-enable="#ctrl-base-frequency-y"
                  />
                  <label class="form-check-label" for="ctrl-separate-frequencies">
                    Separate X &amp; Y Frequencies
                  </label>
                </div>
              </div>

              <div class="form-control-wrapper">
                <label class="form-label" for="ctrl-octaves">
                  Octaves
                  <i
                    class="bi bi-question-circle-fill tip"
                    data-bs-toggle="tooltip"
                    data-bs-title="The level of detail shown in the noise"
                  ></i>
                </label>
                <div class="row">
                  <div class="col-9">
                    <input
                      type="range"
                      class="form-range"
                      id="ctrl-octaves"
                      min="1"
                      max="6"
                      value="3"
                      step="1"
                      data-target="#noise-filter feTurbulence"
                      data-target-attr="numOctaves"
                      data-force-reload-svg="true"
                    />
                  </div>
                  <output class="col-3"></output>
                </div>
              </div>

              <div class="row">
                <div class="col-8">
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-noise-type">Noise Type</label>
                    <select
                      class="form-select form-select-sm"
                      id="ctrl-noise-type"
                      data-target="#noise-filter feTurbulence"
                      data-target-attr="type"
                      data-force-reload-svg="true"
                    >
                      <option value="turbulence" selected>Turbulence</option>
                      <option value="fractalNoise">Fractal Noise</option>
                    </select>
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-seed">
                      Seed
                      <i
                        class="bi bi-question-circle-fill tip"
                        data-bs-toggle="tooltip"
                        data-bs-title="The starting number for the random number generator"
                      ></i>
                    </label>
                    <input
                      class="form-control form-control-sm"
                      type="number"
                      id="ctrl-seed"
                      min="0"
                      value="0"
                      data-target="#noise-filter feTurbulence"
                      data-target-attr="seed"
                      data-force-reload-svg="true"
                    />
                  </div>
                </div>
              </div>

              <div class="form-control-wrapper mb-0">
                <label class="form-label" for="ctrl-tile-stitch"
                  >Tile Stitching
                  <i
                    class="bi bi-question-circle-fill tip"
                    data-bs-toggle="tooltip"
                    data-bs-title="Defines how the Perlin Noise tiles behave at the borders. Choose 'Stitch' in most cases."
                  ></i>
                </label>
                <select
                  class="form-select form-select-sm"
                  id="ctrl-tile-stitch"
                  data-target="#noise-filter feTurbulence"
                  data-target-attr="stitchTiles"
                  data-force-reload-svg="true"
                >
                  <option value="stitch" selected>Stitch</option>
                  <option value="noStitch">None</option>
                </select>
              </div>
            </div>
          </div>

          <div class="card m-3 mb-0">
            <h5 class="card-header">
              <input
                type="checkbox"
                class="form-check-input"
                id="ctrl-enable-lighting"
                checked
                data-toggle-visibility="#lighting-controls"
                data-enable="#lighting-controls .shared-lighting-controls input, #lighting-controls .shared-lighting-controls select"
              />
              <label for="ctrl-enable-lighting">Lighting</label>
              <i
                class="bi bi-question-circle-fill tip"
                data-bs-toggle="tooltip"
                data-bs-title="Treat the generated noise as a bump-map for 3D lighting effects"
              ></i>
            </h5>
            <div id="lighting-controls">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <div class="form-control-wrapper shared-lighting-controls" id="light-color">
                      <label class="form-label" for="ctrl-lighting-lighting-color">
                        Light Color
                        <i
                          class="bi bi-question-circle-fill tip"
                          data-bs-toggle="tooltip"
                          data-bs-title="The color of the light source"
                        ></i>
                      </label>
                      <input
                        type="color"
                        class="form-control form-control-sm form-control-color w-100"
                        value="#FFFFFF"
                        id="ctrl-lighting-lighting-color"
                        data-target="#noise-filter feDiffuseLighting, #noise-filter feSpecularLighting"
                        data-target-attr="lighting-color"
                        data-force-reload-svg="true"
                      />
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-control-wrapper shared-lighting-controls">
                      <label class="form-label" for="ctrl-lighting-primitive-type">
                        Primitive Type
                      </label>
                      <select
                        class="form-select form-select-sm"
                        id="ctrl-lighting-primitive-type"
                        disabled
                        data-toggle-visibility
                        data-force-reload-svg="true"
                      >
                        <option
                          value="feDiffuseLighting"
                          data-toggle-visibility-and-enable="#lighting-primitive-diffuse-options"
                          selected
                        >
                          Diffuse
                        </option>
                        <option
                          value="feSpecularLighting"
                          data-toggle-visibility-and-enable="#lighting-primitive-specular-options"
                        >
                          Specular
                        </option>
                      </select>
                    </div>
                  </div>
                </div>

                <div class="form-control-wrapper shared-lighting-controls">
                  <label class="form-label" for="ctrl-lighting-surface-scale">
                    Surface Scale
                    <i
                      class="bi bi-question-circle-fill tip"
                      data-bs-toggle="tooltip"
                      data-bs-title="The depth of the shadow or lighting effect on the texture"
                    ></i>
                  </label>
                  <div class="row">
                    <div class="col-9">
                      <input
                        type="range"
                        class="form-range"
                        id="ctrl-lighting-surface-scale"
                        min="0.1"
                        max="10"
                        value="3"
                        step="0.1"
                        disabled
                        data-target="#noise-filter feDiffuseLighting, #noise-filter feSpecularLighting"
                        data-target-attr="surfaceScale"
                        data-force-reload-svg="true"
                      />
                    </div>
                    <output class="col-3"></output>
                  </div>
                </div>

                <div id="lighting-primitive-diffuse-options">
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-diffuse-constant">
                      Diffuse Constant
                      <i
                        class="bi bi-question-circle-fill tip"
                        data-bs-toggle="tooltip"
                        data-bs-title="It's used to determine the final RGB value of a given pixel. The brighter the light color, the smaller this number should be."
                      ></i>
                    </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-diffuse-constant"
                          min="0.1"
                          max="10"
                          value="1"
                          step="0.01"
                          disabled
                          data-target="#noise-filter feDiffuseLighting"
                          data-target-attr="diffuseConstant"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                </div>

                <div id="lighting-primitive-specular-options">
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-specular-exponent">
                      Specular Exponent
                      <i
                        class="bi bi-question-circle-fill tip"
                        data-bs-toggle="tooltip"
                        data-bs-title="The focus for the light source. The bigger the value the brighter the light."
                      ></i>
                    </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-specular-exponent"
                          min="1"
                          max="50"
                          value="1"
                          step="0.1"
                          disabled
                          data-target="#noise-filter feSpecularLighting"
                          data-target-attr="specularExponent"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>

                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-specular-constant">
                      Specular Constant
                      <i
                        class="bi bi-question-circle-fill tip"
                        data-bs-toggle="tooltip"
                        data-bs-title="The ratio of reflection of the specular lighting. The bigger the value the stronger the reflection."
                      ></i>
                    </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-specular-constant"
                          min="0.1"
                          max="10"
                          value="1"
                          step="0.1"
                          disabled
                          data-target="#noise-filter feSpecularLighting"
                          data-target-attr="specularConstant"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                </div>

                <div class="form-control-wrapper shared-lighting-controls">
                  <label class="form-label" for="ctrl-light-type"> Light Type </label>
                  <select
                    class="form-select form-select-sm"
                    id="ctrl-light-type"
                    disabled
                    data-toggle-visibility
                    data-force-reload-svg="true"
                  >
                    <option
                      value="distant"
                      data-light-type="feDistantLight"
                      data-handles="[]"
                      data-toggle-visibility-and-enable="#light-type-distant-options"
                      selected
                    >
                      Distant
                    </option>
                    <option
                      value="point"
                      data-light-type="fePointLight"
                      data-handles='[{"left":"ctrl-lighting-point-x", "top":"ctrl-lighting-point-y"}]'
                      data-toggle-visibility-and-enable="#light-type-point-options"
                    >
                      Point
                    </option>
                    <option
                      value="spot-overhead"
                      data-light-type="feSpotLight"
                      data-handles='[{"left":"ctrl-lighting-spot-overhead-x","top":"ctrl-lighting-spot-overhead-y"}]'
                      data-toggle-visibility-and-enable="#light-type-spot-overhead-options"
                    >
                      Spot (Overhead)
                    </option>
                    <option
                      value="spot-manual"
                      data-light-type="feSpotLight"
                      data-handles='[{"left":"ctrl-lighting-spot-manual-x","top":"ctrl-lighting-spot-manual-y"},{"left":"ctrl-lighting-spot-manual-pointsat-x","top":"ctrl-lighting-spot-manual-pointsat-y"}]'
                      data-toggle-visibility-and-enable="#light-type-spot-manual-options"
                    >
                      Spot (Manual)
                    </option>
                  </select>
                </div>

                <div id="light-type-distant-options">
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-distant-azimuth">
                      Direction
                      <i
                        class="bi bi-question-circle-fill tip"
                        data-bs-toggle="tooltip"
                        data-bs-title="The azimuth or direction the light source comes from, in degrees."
                      ></i>
                    </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-distant-azimuth"
                          min="1"
                          max="360"
                          value="90"
                          step="1"
                          disabled
                          data-target="#noise-filter feDistantLight"
                          data-target-attr="azimuth"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>

                  <div class="form-control-wrapper mb-0">
                    <label class="form-label" for="ctrl-lighting-distant-elevation">
                      Elevation
                      <i
                        class="bi bi-question-circle-fill tip"
                        data-bs-toggle="tooltip"
                        data-bs-title="The height of the light source"
                      ></i>
                    </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-distant-elevation"
                          min="1"
                          max="270"
                          value="55"
                          step="1"
                          disabled
                          data-target="#noise-filter feDistantLight"
                          data-target-attr="elevation"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                </div>

                <div id="light-type-point-options">
                  <p class="form-text text-end m-0">
                    You can drag the light around <i class="bi bi-arrow-right"></i>
                  </p>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-point-x"> X </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-point-x"
                          min="0"
                          max="1000"
                          value="100"
                          step="0.1"
                          disabled
                          data-target="#noise-filter fePointLight"
                          data-target-attr="x"
                          data-handle-index="0"
                          data-handle-position="left"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-point-y"> Y </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-point-y"
                          min="0"
                          max="1000"
                          value="100"
                          step="0.1"
                          disabled
                          data-target="#noise-filter fePointLight"
                          data-target-attr="y"
                          data-handle-index="0"
                          data-handle-position="top"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-point-z"> Z </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-point-z"
                          min="0"
                          max="100"
                          value="50"
                          step="0.1"
                          disabled
                          data-target="#noise-filter fePointLight"
                          data-target-attr="z"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                </div>

                <div id="light-type-spot-overhead-options">
                  <p class="form-text text-end m-0">
                    You can drag the light around <i class="bi bi-arrow-right"></i>
                  </p>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-spot-overhead-cone-angle">
                      Cone Angle
                      <i
                        class="bi bi-question-circle-fill tip"
                        data-bs-toggle="tooltip"
                        data-bs-title="The angle in degrees between the spot light axis (i.e. the axis between the light source and the point to which it is pointing at) and the spot light cone. So it defines a limiting cone which restricts the region where the light is projected. No light is projected outside the cone."
                      ></i>
                    </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-spot-overhead-cone-angle"
                          min="1"
                          max="90"
                          value="75"
                          step="0.1"
                          disabled
                          data-target="#noise-filter feSpotLight"
                          data-target-attr="limitingConeAngle"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-spot-overhead-x"> X </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-spot-overhead-x"
                          min="0"
                          max="1000"
                          value="180"
                          step="0.1"
                          disabled
                          data-target="#noise-filter feSpotLight"
                          data-target-attr="x pointsAtX"
                          data-handle-index="0"
                          data-handle-position="left"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-spot-overhead-y"> Y </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-spot-overhead-y"
                          min="0"
                          max="1000"
                          value="180"
                          step="0.1"
                          disabled
                          data-target="#noise-filter feSpotLight"
                          data-target-attr="y pointsAtY"
                          data-handle-index="0"
                          data-handle-position="top"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-spot-overhead-z"> Z </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-spot-overhead-z"
                          min="0"
                          max="300"
                          value="100"
                          step="0.1"
                          disabled
                          data-target="#noise-filter feSpotLight"
                          data-target-attr="z"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>

                  <input
                    type="hidden"
                    id="ctrl-lighting-spot-overhead-pointsat-z"
                    value="0"
                    disabled
                    data-target="#noise-filter feSpotLight"
                    data-target-attr="pointsAtZ"
                  />
                </div>

                <div id="light-type-spot-manual-options">
                  <p class="form-text text-end m-0">
                    You can drag the light around <i class="bi bi-arrow-right"></i>
                  </p>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-spot-manual-cone-angle">
                      Cone Angle
                      <i
                        class="bi bi-question-circle-fill tip"
                        data-bs-toggle="tooltip"
                        data-bs-title="The angle in degrees between the spot light axis (i.e. the axis between the light source and the point to which it is pointing at) and the spot light cone. So it defines a limiting cone which restricts the region where the light is projected. No light is projected outside the cone."
                      ></i>
                    </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-spot-manual-cone-angle"
                          min="1"
                          max="90"
                          value="45"
                          step="0.1"
                          disabled
                          data-target="#noise-filter feSpotLight"
                          data-target-attr="limitingConeAngle"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-spot-manual-x"> X </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-spot-manual-x"
                          min="0"
                          max="1000"
                          value="100"
                          step="0.1"
                          disabled
                          data-target="#noise-filter feSpotLight"
                          data-target-attr="x"
                          data-handle-index="0"
                          data-handle-position="left"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-spot-manual-y"> Y </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-spot-manual-y"
                          min="0"
                          max="1000"
                          value="100"
                          step="0.1"
                          disabled
                          data-target="#noise-filter feSpotLight"
                          data-target-attr="y"
                          data-handle-index="0"
                          data-handle-position="top"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-spot-manual-z"> Z </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-spot-manual-z"
                          min="0"
                          max="300"
                          value="50"
                          step="0.1"
                          disabled
                          data-target="#noise-filter feSpotLight"
                          data-target-attr="z"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-spot-manual-pointsat-x">
                      Points At X
                    </label>
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-spot-manual-pointsat-x"
                          min="0"
                          max="1000"
                          value="150"
                          step="0.1"
                          disabled
                          data-target="#noise-filter feSpotLight"
                          data-target-attr="pointsAtX"
                          data-handle-index="1"
                          data-handle-position="left"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-spot-manual-pointsat-y"
                      >Points At Y</label
                    >
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-spot-manual-pointsat-y"
                          min="0"
                          max="1000"
                          value="150"
                          step="0.1"
                          disabled
                          data-target="#noise-filter feSpotLight"
                          data-target-attr="pointsAtY"
                          data-handle-index="1"
                          data-handle-position="top"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                  <div class="form-control-wrapper">
                    <label class="form-label" for="ctrl-lighting-spot-manual-pointsat-z"
                      >Points At Z</label
                    >
                    <div class="row">
                      <div class="col-9">
                        <input
                          type="range"
                          class="form-range"
                          id="ctrl-lighting-spot-manual-pointsat-z"
                          min="0"
                          max="300"
                          value="50"
                          step="0.1"
                          disabled
                          data-target="#noise-filter feSpotLight"
                          data-target-attr="pointsAtZ"
                          data-force-reload-svg="true"
                        />
                      </div>
                      <output class="col-3"></output>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="card m-3 mb-0">
            <h5 class="card-header">
              <input
                type="checkbox"
                class="form-check-input"
                id="ctrl-enable-effects"
                data-toggle-visibility="#effects-controls"
                data-enable="#effects-controls input, #effects-controls select"
              />
              <label for="ctrl-enable-effects">Effects</label>
            </h5>
            <div id="effects-controls">
              <div class="card-body">
                <div class="form-control-wrapper">
                  <label class="form-label" for="ctrl-blend-mode">
                    Blend Mode
                    <i
                      class="bi bi-question-circle-fill tip"
                      data-bs-toggle="tooltip"
                      data-bs-title="How the generated noise should blend with the background"
                    ></i>
                  </label>
                  <select
                    class="form-select form-select-sm"
                    id="ctrl-blend-mode"
                    data-target="#demo-output svg"
                    data-target-style-prop="mix-blend-mode"
                    data-target-style-value-when-disabled="normal"
                  >
                    <option selected>normal</option>
                    <option>multiply</option>
                    <option>screen</option>
                    <option>overlay</option>
                    <option>darken</option>
                    <option>lighten</option>
                    <option>color-dodge</option>
                    <option>color-burn</option>
                    <option>hard-light</option>
                    <option>soft-light</option>
                    <option>difference</option>
                    <option>exclusion</option>
                    <option>hue</option>
                    <option>saturation</option>
                    <option>color</option>
                    <option>luminosity</option>
                  </select>
                </div>

                <div class="form-control-wrapper">
                  <label class="form-label" for="ctrl-effect-saturation">
                    Saturation
                    <i
                      class="bi bi-question-circle-fill tip"
                      data-bs-toggle="tooltip"
                      title="Color saturation. Anything below 1 will desaturate (make grayscale), anything over 1 will over-saturate the colors"
                    ></i>
                  </label>
                  <div class="row">
                    <div class="col-9">
                      <input
                        type="range"
                        class="form-range"
                        id="ctrl-effect-saturation"
                        min="0"
                        max="10"
                        value="1"
                        step="0.1"
                        data-target="#demo-output svg"
                        data-target-filter-prop="saturate"
                      />
                    </div>
                    <output class="col-3"></output>
                  </div>
                </div>

                <div class="form-control-wrapper">
                  <label class="form-label" for="ctrl-effect-brightness">
                    Brightness
                    <i
                      class="bi bi-question-circle-fill tip"
                      data-bs-toggle="tooltip"
                      data-bs-title="Anything below 1 will darken, anything over 1 will brighten"
                    ></i>
                  </label>
                  <div class="row">
                    <div class="col-9">
                      <input
                        type="range"
                        class="form-range"
                        id="ctrl-effect-brightness"
                        min="0"
                        max="10"
                        value="1"
                        step="0.1"
                        data-target="#demo-output svg"
                        data-target-filter-prop="brightness"
                      />
                    </div>
                    <output class="col-3"></output>
                  </div>
                </div>

                <div class="form-control-wrapper mb-0">
                  <label class="form-label" for="ctrl-effect-blur"> Blur </label>
                  <div class="row">
                    <div class="col-9">
                      <input
                        type="range"
                        class="form-range"
                        id="ctrl-effect-blur"
                        min="0"
                        max="10"
                        value="0"
                        step="0.1"
                        data-target="#demo-output svg"
                        data-target-filter-prop="blur"
                        data-target-value-suffix="px"
                      />
                    </div>
                    <output class="col-3"></output>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="card m-3 mb-0">
            <h5 class="card-header">Background</h5>
            <div class="card-body">
              <div class="form-control-wrapper">
                <label class="form-label" for="ctrl-bg-type"> Background Type </label>
                <select class="form-select form-select-sm" id="ctrl-bg-type" data-toggle-visibility>
                  <option
                    value="solid-color"
                    data-toggle-visibility-and-enable="#bg-type-solid-color"
                    selected
                  >
                    Solid Color
                  </option>
                  <option
                    value="linear-gradient"
                    data-toggle-visibility-and-enable="#bg-type-linear-gradient"
                  >
                    Linear Gradient
                  </option>
                  <option value="img" data-toggle-visibility-and-enable="#bg-type-img">
                    Image
                  </option>
                </select>
              </div>

              <div class="form-control-wrapper mb-0" id="bg-type-solid-color">
                <label class="form-label" for="ctrl-bg-color">Color</label>
                <input
                  type="color"
                  class="form-control form-control-sm form-control-color w-100"
                  id="ctrl-bg-color"
                  value="#e9e4ef"
                  data-target="#demo-output"
                  data-target-style-prop="background"
                />
              </div>

              <div id="bg-type-linear-gradient">
                <div class="form-control-wrapper">
                  <div class="row">
                    <div class="col">
                      <label class="form-label" for="ctrl-gradient-color1">From Color</label>
                      <input
                        type="color"
                        class="form-control form-control-sm form-control-color w-100"
                        id="ctrl-linear-gradient-color1"
                        value="#e66465"
                        data-target="#demo-output"
                        data-target-style-prop="background"
                        data-target-value-formatter="linear-gradient({{#ctrl-linear-gradient-angle}}, {{#ctrl-linear-gradient-color1}}, {{#ctrl-linear-gradient-color2}})"
                      />
                    </div>
                    <div class="col">
                      <label class="form-label" for="ctrl-gradient-color2">To Color</label>
                      <input
                        type="color"
                        class="form-control form-control-sm form-control-color w-100"
                        id="ctrl-linear-gradient-color2"
                        value="#9198e5"
                        data-target="#demo-output"
                        data-target-style-prop="background"
                        data-target-value-formatter="linear-gradient({{#ctrl-linear-gradient-angle}}, {{#ctrl-linear-gradient-color1}}, {{#ctrl-linear-gradient-color2}})"
                      />
                    </div>
                  </div>
                </div>

                <div class="form-control-wrapper">
                  <label class="form-label" for="ctrl-linear-gradient-angle">Angle</label>
                  <div class="row">
                    <div class="col-8">
                      <input
                        type="range"
                        class="form-range"
                        id="ctrl-linear-gradient-angle"
                        min="0"
                        max="360"
                        value="45"
                        step="0.1"
                        disabled
                        data-target="#demo-output"
                        data-target-style-prop="background"
                        data-target-value-suffix="deg"
                        data-target-value-formatter="linear-gradient({{#ctrl-linear-gradient-angle}}, {{#ctrl-linear-gradient-color1}}, {{#ctrl-linear-gradient-color2}})"
                      />
                    </div>
                    <output class="col-4"></output>
                  </div>
                </div>

                <p class="form-text mb-0">
                  Linear gradients have more options than this, but that's not the goal of this
                  tool. If you need to customize your gradient more, after you get the code for this
                  you can
                  <a
                    href="https://developer.mozilla.org/en-US/docs/Web/CSS/gradient/linear-gradient"
                    target="_blank"
                    >read more about them here</a
                  >
                </p>
              </div>

              <div id="bg-type-img">
                <div class="form-control-wrapper mb-0">
                  <label class="form-label" for="ctrl-bg-img-id">Image ID</label>
                  <input
                    type="number"
                    class="form-control form-control-sm"
                    id="ctrl-bg-img-id"
                    value="106"
                    min="0"
                    max="1084"
                    data-target="#demo-output"
                    data-target-style-prop="background"
                    data-target-value-formatter="url('https://picsum.photos/id/{{#ctrl-bg-img-id}}/5000') center / cover no-repeat"
                  />
                  <span class="form-text"
                    >Images come from
                    <a href="https://picsum.photos/" target="_blank">picsum.photos</a>, you can see
                    all images and their ID's
                    <a href="https://picsum.photos/images" target="_blank">on this page</a></span
                  >
                </div>
              </div>
            </div>
          </div>

          <div class="card m-3">
            <h5 class="card-header">
              <input
                type="checkbox"
                class="form-check-input"
                id="ctrl-enable-custom-size"
                data-toggle-visibility="#custom-size"
                data-enable="#custom-size input"
              />
              <label for="ctrl-enable-custom-size"> Custom Size Preview</label>
              <i
                class="bi bi-question-circle-fill tip"
                data-bs-toggle="tooltip"
                data-bs-title="See how your pattern looks when constrained to a specific size"
              ></i>
            </h5>
            <div id="custom-size">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <div class="form-control-wrapper mb-0">
                      <label class="form-label" for="ctrl-custom-width"> Width </label>
                      <div class="input-group input-group-sm">
                        <input
                          class="form-control text-end"
                          type="number"
                          id="ctrl-custom-width"
                          min="1"
                          value="500"
                          data-target="#demo-output svg"
                          data-target-style-prop="width"
                          data-target-value-suffix="px"
                          data-force-reload-svg="true"
                        />
                        <span class="input-group-text">px</span>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-control-wrapper mb-0">
                      <label class="form-label" for="ctrl-custom-height"> Height </label>
                      <div class="input-group input-group-sm">
                        <input
                          class="form-control text-end"
                          type="number"
                          id="ctrl-custom-height"
                          min="1"
                          value="500"
                          data-target="#demo-output svg"
                          data-target-style-prop="height"
                          data-target-value-suffix="px"
                          data-force-reload-svg="true"
                        />
                        <span class="input-group-text">px</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div
            id="final-controls"
            class="bg-body-secondary p-3 pb-2 border-top border-secondary shadow-lg d-flex flex-column gap-2"
          >
            <div class="d-flex justify-content-between">
              <div class="dropup">
                <button
                  type="button"
                  class="btn btn-secondary btn-sm dropdown-toggle"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                  id="btn-preset"
                >
                  <i class="bi bi-heart"></i>
                  Presets
                </button>
                <ul class="dropdown-menu shadow" id="ddl-preset"></ul>
              </div>

              <button type="button" class="btn btn-secondary btn-sm" id="btn-randomize">
                <i class="bi bi-shuffle"></i>
                Randomize
              </button>
              <button
                type="button"
                class="btn btn-primary btn-sm"
                data-bs-toggle="modal"
                data-bs-target="#modal-code"
              >
                <i class="bi bi-code-slash"></i>
                Get Code
              </button>
            </div>
            <div class="text-center">
              <a class="icon-link" href="https://github.com/FiniteLooper/noise-maker">
                <i class="bi bi-github"></i>
                View on Github
              </a>
            </div>
          </div>
        </div>
      </aside>

      <div class="w-100 overflow-hidden">
        <div id="demo-output" class="w-100 h-100" tabindex="0">
          <svg style="width: 100%; height: 100%">
            <filter id="noise-filter">
              <feTurbulence result="noise"></feTurbulence>
            </filter>

            <rect
              x="0"
              y="0"
              width="100%"
              height="100%"
              filter="url(#noise-filter)"
              fill="none"
            ></rect>
          </svg>
        </div>
      </div>
    </main>

    <div
      id="img-loader"
      class="position-fixed shadow bg-body top-50 start-50 translate-middle p-3 rounded d-flex align-items-center z-3 border d-none"
    >
      <div class="spinner-border me-3" role="status"></div>
      Loading image&hellip;
    </div>

    <div
      class="modal fade"
      id="modal-code"
      tabindex="-1"
      aria-labelledby="modal-code-title"
      aria-hidden="true"
      data-bs-static="false"
    >
      <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="modal-code-title">Your Texture Code</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="form-control-wrapper">
              <button type="button" class="btn btn-secondary" id="btn-copy-sharable-link">
                <i class="bi bi-link"></i>
                Copy Sharable Link
              </button>
            </div>

            <div class="form-control-wrapper">
              <label class="form-label" for="code-html">HTML</label>
              <textarea
                class="form-control form-control-sm font-monospace"
                readonly
                autofocus
                rows="7"
                id="code-html"
              ></textarea>
              <button
                type="button"
                class="btn btn-sm btn-secondary btn-copy"
                data-target="#code-html"
              >
                <i class="bi bi-clipboard"></i>
                Copy
              </button>
              <small class="form-text"
                >This just needs to exist in your HTML for CSS to reference, it's not shown</small
              >
            </div>

            <div class="form-control-wrapper">
              <label class="form-label" for="code-css">CSS</label>
              <textarea
                class="form-control form-control-sm font-monospace"
                readonly
                rows="6"
                id="code-css"
              ></textarea>
              <button
                type="button"
                class="btn btn-sm btn-secondary btn-copy"
                data-target="#code-css"
              >
                <i class="bi bi-clipboard"></i>
                Copy
              </button>
            </div>

            <div class="form-control-wrapper">
              <label class="form-label" for="code-usage">Usage</label>
              <textarea
                class="form-control form-control-sm font-monospace"
                readonly
                rows="3"
                id="code-usage"
              >
&lt;div class="bg-texture"&gt;
  This element has a cool background!
&lt;/div&gt;</textarea
              >
              <button
                type="button"
                class="btn btn-sm btn-secondary btn-copy"
                data-target="#code-usage"
              >
                <i class="bi bi-clipboard"></i>
                Copy
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="toast-container pt-3 position-fixed top-0 start-50 translate-middle-x">
      <div
        id="toast-template"
        class="toast align-items-center"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
      >
        <div class="d-flex">
          <div class="toast-body">Copied!</div>
          <button
            type="button"
            class="btn-close btn-close-white me-2 m-auto"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
      </div>
    </div>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.slim.min.js"
      integrity="sha512-5NqgLBAYtvRsyAzAvEBWhaW+NoB+vARl6QiA02AFMhCWvPpi7RWResDcTGYvQtzsHVCfiUhwvsijP+3ixUk1xw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
    <script src="index.js" type="module"></script>
  </body>
</html>
